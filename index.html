<!DOCTYPE html>
<html>
    <head>
        <title>Homepage</title>
        <link rel="stylesheet" href="./styles/globals.css">
        <link rel="stylesheet" href="./styles/styles.css">
        <link rel="stylesheet" href="./styles/widget.css">
        <link rel="stylesheet" href="http://lib.cadenchau.com/lib.css">
        <script src="https://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/lz-string.min.js"></script>
        <script type="module" src="./scripts/widgetContents.js" defer></script>
        <script type="module" src="./scripts/main.js" defer></script>
    </head>
    <body>
        <div id="modal" class="modal-background centered-children" style="display: none; width: 100%; height:100%">
            <div class="modal vertical-container">
                <div class="modal-header">
                    <h2>Widget Editor</h2>
                    <button class="close-button" onclick="modalClose('ignore')">X</button>
                </div>
                <div class="modal-content">
                    <div class="modal-widget-title">
                        <label for="widgetTitle">Widget Title:</label>
                        <input type="text" id="widgetTitle" placeholder="Widget Title">
                    </div>
                    <div class="modal-widget-colors">
                        <div class="modal-widget-color">
                            <label for="widgetColor">Widget Text Color:</label>
                            <input type="color" id="widgetColor" value="#ffffff" onchange="updateWidgetColors()">
                        </div>
                        <div class="modal-widget-color">
                            <label for="backgroundColor">Background Color:</label>
                            <input type="color" id="backgroundColor" value="#ffffff" onchange="updateWidgetColors()">
                        </div>
                        <div class="modal-widget-color">
                            <label for="widgetBorderColor">Widget Border Color:</label>
                            <input type="color" id="widgetBorderColor" value="#ffffff" onchange="updateWidgetColors()">
                        </div>
                    </div>
                    <div style="width: 100%; text-align: left;">Widget Custom Options:</div>
                    <div class="modal-widget-content-custom-options" id="widgetCustomOptions">
                    </div>
                    <div id="widgetContentOptions" class="modal-widget-content-options">

                    </div>
                </div>
            </div>
        </div>
        <div id="backgroundModal" class="modal-background centered-children" style="display: none; width: 100%; height:100%">
            <div class="modal vertical-container">
                <div class="modal-header">
                    <h2>Background Editor</h2>
                    <button class="close-button" onclick="closeBackgroundModal()">X</button>
                </div>
                <div class="modal-content">
                    <div class="background-modal-keep-background">
                        <label for="keepBackground">Keep Background:</label>
                        <input type="range" min="1" max="2" value="1" id="keepBackground" class="slider" onclick="updateBackground()">
                    </div>
                    <div class="background-modal-custom-background">
                        <label for="customBackground">Custom Background:</label>
                        <input type="text" id="customBackground" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="modal-widget-content-options" id="backgrounds" style="height: 75%;">
                        
                    </div>
                </div>
            </div>
        </div>
        <div id="importExportModal" class="modal-background centered-children" style="display: none; width: 100%; height:100%">
            <div class="modal vertical-container">
                <div class="modal-header">
                    <h2 id="importExportModalTitle">Import/Export Data</h2>
                    <button class="close-button" onclick="closeImportExportModal()">X</button>
                </div>
                <div class="modal-content">
                    <div class="import-export-options">
                        <textarea id="exportTextArea" placeholder="Exported widgets will appear here..."></textarea>
                        <button id="exportButton" onclick="navigator.clipboard.writeText(document.getElementById('exportTextArea').value);">Copy</button>
                        <button id="importButton" onclick="importData()">Save</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="control-panel">
            <button class="widget-creator" id="widgetCreator" onclick="createWidget()">+</button>
            <button id="widgetHeaderVisibility" onclick="updateWidgetHeaderVisibility()"><img src="./assets/visibility-on.png" alt="Hide"></button>
            <button id="backgroundModalOpen" onclick="openBackgroundModal()"><img src="./assets/background-image.png" alt="Background Image"></button>
            <button id="importExportModalOpen" onclick="openImportExportModal('import')"><img src="./assets/import.png" alt="Import"></button>
            <button id="exportModalOpen" onclick="openImportExportModal('export')"><img src="./assets/export.png" alt="Export"></button>
        </div>
        <div id="widgetContainer" style="width: 100%; height: 100%; position: absolute; top: 0; left: 0;">
            
        </div>
    </body>
</html>